<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Architecture &mdash; ErbslandFORMER 0.9.8-beta documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b8b656fd"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Settings Reference" href="settings.html" />
    <link rel="prev" title="Update Existing Installation" href="installation/update-installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ErbslandFORMER
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download and Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="user/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="administrator/index.html">Administrator Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#system-architecture">System Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#frontend">Frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backend">Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connection-layer">Connection Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scalability">Scalability</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#software-architecture">Software Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-goals">Main Goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extension-points">Extension Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="#core-modules">Core Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#backend-module">Backend Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design-module">Design Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editor-module">Editor Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tasks-module">Tasks Module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#extensions">Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#regular-expression-transformer">Regular Expression Transformer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ai-transformer">AI Transformer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="screenshots.html">Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License and Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ErbslandFORMER</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Architecture</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/chapters/architecture.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="index-0">
<span id="architecture"></span><span id="id1"></span><h1>Architecture<a class="headerlink" href="#index-0" title="Link to this heading"></a></h1>
<section id="system-architecture">
<h2>System Architecture<a class="headerlink" href="#system-architecture" title="Link to this heading"></a></h2>
<p>The system architecture is divided into a frontend and a backend, designed for scalability and ease of maintenance.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/architecture-overview.svg"><img alt="../_images/architecture-overview.svg" src="../_images/architecture-overview.svg" width="100%" /></a>
</figure>
<section id="frontend">
<h3>Frontend<a class="headerlink" href="#frontend" title="Link to this heading"></a></h3>
<p>The frontend is served via <em>WSGI</em>, using either <em>Apache</em> or <em>nginx</em> as the web server. The application is built on the <em>Django framework</em>, which provides database abstraction and modularity, making the system easy to maintain and extend.</p>
<p><em>Redis</em> is used for communication with the backend to start background tasks and receive real-time updates on their progress and status. For enhanced performance, <em>Django</em> is configured to use <em>Redis</em> as a web cache.</p>
</section>
<section id="backend">
<h3>Backend<a class="headerlink" href="#backend" title="Link to this heading"></a></h3>
<p>The backend uses <em>Celery</em> as a distributed task scheduler, allowing tasks to run in the background over extended periods. Like the frontend, the backend is based on the <em>Django framework</em>, leveraging its database abstraction to access data. Background tasks also report status and logs via <em>Redis</em> to be displayed in the frontend.</p>
</section>
<section id="connection-layer">
<h3>Connection Layer<a class="headerlink" href="#connection-layer" title="Link to this heading"></a></h3>
<p>The frontend and backend are connected via a single instance of <em>Redis</em> and a database such as <em>MariaDB</em>, <em>MySQL</em>, or <em>Postgres</em>.</p>
</section>
<section id="scalability">
<h3>Scalability<a class="headerlink" href="#scalability" title="Link to this heading"></a></h3>
<p>This architecture supports a single server setup, where the frontend, backend, and database run on one server. It also offers the flexibility to scale by adding multiple frontend and backend instances as needed.</p>
</section>
</section>
<section id="software-architecture">
<h2>Software Architecture<a class="headerlink" href="#software-architecture" title="Link to this heading"></a></h2>
<p>The software architecture leverages <em>Django’s</em> modular application system to separate the individual components of the software, ensuring modularity and extensibility.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/software-architecture.svg"><img alt="../_images/software-architecture.svg" src="../_images/software-architecture.svg" width="100%" /></a>
</figure>
<section id="main-goals">
<h3>Main Goals<a class="headerlink" href="#main-goals" title="Link to this heading"></a></h3>
<p>Different users and companies have varying requirements for large-scale text processing. Therefore, the primary goal of the chosen architecture is to create a system that is both modular and extensible. This design allows users to utilize the powerful built-in transformation tools and easily develop their own custom tools. Since these extensions are written as separate “Django Apps,” they seamlessly integrate into the system and can be distributed in separate repositories for straightforward deployments.</p>
</section>
<section id="extension-points">
<h3>Extension Points<a class="headerlink" href="#extension-points" title="Link to this heading"></a></h3>
<p>The current architecture supports the following extension points:</p>
<ul class="simple">
<li><p><strong>Transformation modules</strong>: Process text fragments.</p></li>
<li><p><strong>Size calculators</strong>: Provide a size unit to determine the best splitting points in documents.</p></li>
<li><p><strong>Syntax handlers</strong>: Understand document syntax and return a document structure and metadata to split the document into fragments.</p></li>
</ul>
</section>
<section id="core-modules">
<h3>Core Modules<a class="headerlink" href="#core-modules" title="Link to this heading"></a></h3>
<section id="backend-module">
<h4>Backend Module<a class="headerlink" href="#backend-module" title="Link to this heading"></a></h4>
<p>The backend module is the largest component of the application. It includes all database models, the actions that run in the background, and the base interfaces for the transformer, size calculator, and syntax handler interfaces. It also contains management tools and shared utilities used throughout the application.</p>
</section>
<section id="design-module">
<h4>Design Module<a class="headerlink" href="#design-module" title="Link to this heading"></a></h4>
<p>The design module contains everything related to styling and building the user interface, without any application logic. It is composed of multiple Django Apps for easier maintenance and portability. This module includes all HTML, CSS, and JavaScript required for the interactive user interface.</p>
</section>
<section id="editor-module">
<h4>Editor Module<a class="headerlink" href="#editor-module" title="Link to this heading"></a></h4>
<p>The editor module implements the user interface logic, building on top of the backend and design modules. The separation line between the design and editor modules is that the design module provides the overall design and base views, while the editor module combines the actual user interface with the application logic. This separation allows the overall style of the application to be changed by updating the design module, with minimal changes required in the editor module.</p>
</section>
<section id="tasks-module">
<h4>Tasks Module<a class="headerlink" href="#tasks-module" title="Link to this heading"></a></h4>
<p>The tasks module provides a framework and interface to <em>Redis</em> and <em>Celery</em>. It implements a simple task system that allows tasks to be executed as background processes and their progress to be monitored. Additionally, it provides an action framework that enables easy registration and implementation of individual actions run as tasks.</p>
</section>
</section>
<section id="extensions">
<h3>Extensions<a class="headerlink" href="#extensions" title="Link to this heading"></a></h3>
<p>Currently, there are two built-in extensions for the application:</p>
<section id="regular-expression-transformer">
<h4>Regular Expression Transformer<a class="headerlink" href="#regular-expression-transformer" title="Link to this heading"></a></h4>
<p>This extension allows text to be transformed using one or more regular expression patterns.</p>
</section>
<section id="ai-transformer">
<h4>AI Transformer<a class="headerlink" href="#ai-transformer" title="Link to this heading"></a></h4>
<p>The AI transformer uses OpenAI’s ChatGPT API to transform text using natural language prompts and output matching. This extension also includes special size calculators for the tokens of various language models, enabling text to be split into optimal chunk sizes for the selected model.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation/update-installation.html" class="btn btn-neutral float-left" title="Update Existing Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="settings.html" class="btn btn-neutral float-right" title="Settings Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2024, Erbsland DEV.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>